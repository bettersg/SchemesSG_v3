<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
        content="One stop directory and AI-enabled search to help make sense of assistance schemes in Singapore.">
    <meta name="author" content="Schemes SG team">
    <meta property="og:image" content="static/img/brand/metaimage.png">
    <title>Schemes SG - Schemes Pal</title>
    <!-- Preloader -->
    <style>
        @keyframes hidePreloader {
            0% {
                width: 100%;
                height: 100%;
            }

            100% {
                width: 0;
                height: 0;
            }
        }

        body>div.preloader {
            position: fixed;
            background: white;
            width: 100%;
            height: 100%;
            z-index: 1071;
            opacity: 0;
            transition: opacity .5s ease;
            overflow: hidden;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body:not(.loaded)>div.preloader {
            opacity: 1;
        }

        body:not(.loaded) {
            overflow: hidden;
        }

      body.loaded > div.preloader {
        animation: hidePreloader 0.5s linear 0.5s forwards;
      }

        .bottom {
            padding-bottom: 5%;
            width: min(95%, 800px);
        }

        .message {
            margin: 20px;
        }

        .message p {
            margin: 0;
        }

        #sendbtn:disabled {
            opacity: 0.6;
        }
    </style>
    <script>
        window.addEventListener("load", function () {
            setTimeout(function () {
                document.querySelector('body').classList.add('loaded');
            }, 300);
        });
    </script>
    <!-- Favicon -->
    <link rel="icon" href="static/img/brand/favicon.png" type="image/png"><!-- Font Awesome -->
    <link rel="stylesheet" href="static/libs/@fortawesome/fontawesome-free/css/all.min.css">
    <!-- Quick CSS -->
    <link rel="stylesheet" href="static/css/quick-website.css" id="stylesheet">
    <script src="static/libs/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="static/js/palscroll.js"></script>
    <script type="text/javascript" src="static/js/passfromprevious.js"></script>
    <script type="text/javascript" src="static/js/events.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-195207938-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-195207938-1');
    </script>
      <script type="text/javascript" src="static/js/chatbot.js"></script>
</head>

<body>
    <!-- Preloader -->
    <div class="preloader">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
            <!-- Brand -->
            <a class="navbar-brand" href="index.html">
                <img alt="Image placeholder" src="static/img/brand/logo.jpg" id="navbar-logo">
            </a>
            <!-- Toggler -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mt-4 mt-lg-0 ml-auto">
                    <li class="nav-item ">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown dropdown-animate" data-toggle="hover">
                        <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">More</a>
                        <div class="dropdown-menu dropdown-menu-single">
                            <a href="schemespal.html" class="dropdown-item">Schemes Pal</a>
                            <a href="schemesbank.html" class="dropdown-item">Schemes Bank</a>
                            <a href="schemescase.html" class="dropdown-item">Schemes Case</a>
                            <div class="dropdown-divider"></div>
                            <a href="about.html" class="dropdown-item">About</a>
                            <a href="blog.html" class="dropdown-item">Blog</a>
                            <a href="team.html" class="dropdown-item">Our Team</a>
                            <a href="update.html" class="dropdown-item">Updates</a>
                        </div>
                    </li>
                </ul>
                <!-- Button -->
                <a class="navbar-btn btn btn-sm btn-primary d-none d-lg-inline-block ml-3" href="listing.html">
                    Add listing
                </a>
                <!-- Mobile button -->
                <div class="d-lg-none text-center mt-4 mb-2">
                    <a href="listing.html" class="btn btn-block btn-sm btn-warning">Add listing</a>
                </div>
            </div>
        </div>
    </nav>
    <!-- Main content -->
    <section class="slice py-6 pt-lg-7 pb-lg-8 bg-dark">
        <!-- Container -->
        <div class="container">
            <div class="row row-grid align-items-center">
                <div class="col-lg-6">
                    <!-- Heading -->
                    <h1 class="h1 text-white text-center text-lg-left my-0">
                        Schemes <strong>Pal</strong>
                    </h1>
                    <!-- Text -->
                    <p class="lead text-white text-center text-lg-left opacity-8 py-3">
                        AI-powered search to retrieve relevant assistance listings.
                    </p>
                </div>
            </div>
        </div>
        <!-- SVG separator -->
        <div class="shape-container shape-line shape-position-bottom">
            <svg width="2560px" height="100px" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px"
                viewBox="0 0 2560 100" style="enable-background:new 0 0 2560 100;" xml:space="preserve" class="">
                <polygon points="2560 0 2560 100 0 100"></polygon>
            </svg>
        </div>
    </section>

    <section class="slice slice-lg" id="sct-form-contact">
      <div class="container position-relative zindex-100">
        <div class="row justify-content-center mb-5 mx-2">
          <div class="col-lg-8">
            <h3>How to use</h3>
            <ul class="list-unstyled mb-0">
              <li class="py-2">
                <div class="d-flex align-items-center">
                  <div>
                    <div
                      class="icon icon-shape bg-primary text-white icon-sm rounded-circle mt-4 mr-4"
                    >
                      <i class="fas fa-user"></i>
                    </div>
                  </div>
                  <div>
                    <p>
                      Indicate your beneficiary's/your profile (e.g. "elderly
                      with healthcare needs"). <strong>DO NOT</strong> give
                      identifiable info like NRIC or name.
                      <a
                        href="javascript:void(0)"
                        data-container="body"
                        data-toggle="popover"
                        data-content="We record the query text to train the AI model and improve its accuracy to serve you better. Rest assured that we are unable to identify the individuals who entered the query or whom it refers to. You can help us ensure an even greater level of security by not providing names or identifiable detail."
                        >Important: please read this.</a
                      >
                    
                                    </p>
                  </div>
                </div>
              </li>
              <br />

                        <li class="py-2">
                            <div class="d-flex align-items-center">
                                <div>
                                    <div class="icon icon-shape bg-primary text-white icon-sm rounded-circle mt-4 mr-4">
                                        <i class="fas fa-volume-up"></i>
                                    </div>
                                </div>
                                <div>
                                    <p>Tell us the assistance you need. The more specific you are (e.g. "financial
                                        assistance for dialysis"), the better the search.</p>
                                </div>
                            </div>
                        </li>
                        <br>

                        <li class="py-2">
                            <div class="d-flex align-items-center">
                                <div>
                                    <div class="icon icon-shape bg-primary text-white icon-sm rounded-circle mt-4 mr-4">
                                        <i class="fas fa-thumbs-up"></i>
                                    </div>
                                </div>
                                <div>
                                    <p>Example of a good search: "<u>My client needs assistance as a dialysis patient.
                                            She is also in need of a job and financial support after COVID 19 has caused
                                            her to be retrenched.</u>"</p>
                                </div>
                            </div>
                        </li>


                    </ul>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <!-- Form -->
                    <form id="schemespal">
                        <div class="form-group">
                            <textarea id="text-input" class="form-control form-control-lg" name="Query"
                                placeholder="Tell us a few words ..." rows="3" required></textarea>
                        </div>
                        <br>
                        <div>
                            <p class="text-center">Show me schemes above relevance score of:</p>
                            <br>
                            <strong>
                                <p class="text-center" id=holder></p>
                            </strong>
                        </div>
                        <br>
                        <div class="pt-4">
                            <label for="lenient" class="float-left">Very lenient</label>
                            <label for="strict" class="float-right">Very strict</label>
                            <input type="range" min="0" max="4" value="1" class="slider" name="Relevance"
                                id="relevance">
                        </div>
                        <div class="text-center pt-4">
                            <!-- <div class="g-recaptcha" data-sitekey="6Lfs5ScUAAAAANAJwGrdfvWLFRRiVbKRE2vfoaFj"></div> -->
                            <button type="reset" class="btn-reset d-none"></button>
                            <button id="schemespal-submit" type="button" class="btn btn-block btn-lg btn-primary mt-4"
                                onclick="handle__schemespal()">Search</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section class="slice slice-lg" id="scrollhere">
        <div class="container">
            <div class="row row-grid align-baseline justify-content-center">
                <div class="col-8 col-md-push-5 col-lg-6 order-md-2">
                    <div class="bottom" style="min-width: 400px">
                        <form id="userinputform">
                            <div class="flex items-center rounded-lg bg-gray-50 dark:bg-gray-70">
                                <div class="overflow-auto" style="max-height: 500px;" id="chatwindow">
                                    <div class="message">
                                        <div class="d-flex justify-content-start flex-wrap mr-6">
                                            <div class="p-3 bg-gray-200 text-dark" style="border-radius: 20px;">
                                                <p>Welcome to Schemes Support Chat ðŸŒŸ Feel free to ask me questions
                                                    like:
                                                </p>
                                                <ul>
                                                    <li>"Can you tell me more about Scheme X"?</li>
                                                    <li>"How can I apply for support from Scheme X"?</li>
                                                </ul>
                                                <p>To get started, just type your question below. I'm here to explore
                                                    schemes results ðŸš€</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="upperid"></div>
                                </div>

                                <div class="container">
                                    <div class="row justify-content-center">
                                        <div class="col-md">
                                            <div class="card p-3">
                                                <div class="form-row align-items-center">
                                                    <div class="col">
                                                        <input type="text" class="form-control" name="chatmessage"
                                                            placeholder="I want to know more about schemes..."
                                                            id="userinput" required></input>
                                                    </div>
                                                    <div>
                                                        <button
                                                            class="btn btn-sm btn-primary d-lg-inline-block ml-2"
                                                            id="sendbtn">
                                                            âž¤
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>

                <div class="col-8 col-md-6 col-md-pull-5 col-lg-6 order-md-2">
                    <figure class="w-100 responsive-picture-hide" id="schemespalpic">
                        <img alt="Image placeholder"
                            src="static/img/svg/illustrations/banner1.png"
                            class="img-fluid">
                    </figure>
                    <div class="container" id="filler"></div>
                </div>
            </div>
        </div>

        <script>
            scrollToBottom();

            document.getElementById("userinputform").addEventListener("submit", function (event) {
                event.preventDefault();
                submitQuery();
            });

            const submitQuery = async () => {
                let userInputArea = document.getElementById('userinput');
                let userInput = document.getElementById('userinput').value;
                let sendBtn = document.getElementById('sendbtn');
                let upperDiv = document.getElementById('upperid');

                upperDiv.innerHTML = upperDiv.innerHTML + `<div class="message">
                    <div class="d-flex justify-content-end flex-wrap ml-6">
                        <div class="p-3 bg-primary text-white" style="border-radius: 20px;">
                                ${userInput}
                            </div>
                    </div>
                </div>`
                sendBtn.disabled = true;
                userInputArea.disabled = true;
                scrollToBottom();
                document.getElementById('userinput').value = "";
                document.getElementById('userinput').placeholder = "Loading...";

                let chatResponse = await getChatResponse(userInput);

                document.getElementById('userinput').placeholder = "I want to know more about schemes..."
                if (chatResponse.response) {
                    let message = chatResponse.message.toString();

                    upperDiv.innerHTML += `<div class="message">
                        <div class="d-flex justify-content-start flex-wrap mr-6">
                            <div class="p-3 bg-gray-200 text-dark" style="border-radius: 20px;" id="temp">
                            </div>
                        </div>
                    </div>`
                    let temp = document.getElementById('temp');
                    let index = 0;
                    function displayNextLetter() {
                        scrollToBottom()
                        if (index < message.length) {
                            temp.innerHTML += message[index];
                            index++;
                            setTimeout(displayNextLetter, 30);
                        } else {
                            temp.removeAttribute('id');
                            sendBtn.disabled = false;
                            userInputArea.disabled = false;
                        }
                    }
                    displayNextLetter();
                    scrollToBottom();
                } else {
                    upperDiv.innerHTML +=
                        `<div class="message">
                            <div class="d-flex justify-content-start flex-wrap mr-6">
                                <div class="p-3 bg-gray-200 text-dark" style="border-radius: 20px; border: 1px solid red;">
                                    ${chatResponse.message}
                                </div>
                            </div>
                        </div>`
                    sendBtn.disabled = false;
                    userInputArea.disabled = false;
                }
                scrollToBottom();
            } 
        </script>

        </div>
    <section class="slice slice-lg">
      <div class="container" id="filler"></div>
    </section>

    <section class="slice slice-lg">
        <div class="container text-center text-lg-left">
            <!-- Title -->
            <div class="row">
                <div class="col-lg-12 col-md-10">
                    <span class="badge badge-danger badge-pill">Please note</span>
                    <p class="lh-180 mt-4 mb-6">Schemes SG is only an <strong>aggregator</strong> of public domain
                        listings and crowdsourcing. We are not a VWO, nor any assistance-giving body, and we do not
                        guarantee successful application of any schemes listed above. Schemes Pal only serves to help
                        you make sense of existing schemes out there. The Schemes Pal engine is <strong>still being
                            upgraded</strong>.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="position-relative" id="footer-main">
        <div class="footer pt-lg-7 footer-dark bg-dark">
            <!-- SVG shape -->
            <div class="shape-container shape-line shape-position-top shape-orientation-inverse">
                <svg width="2560px" height="100px" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px"
                    viewBox="0 0 2560 100" style="enable-background:new 0 0 2560 100;" xml:space="preserve"
                    class=" fill-section-secondary">
                    <polygon points="2560 0 2560 100 0 100"></polygon>
                </svg>
            </div>
            <!-- Footer -->
            <div class="container pt-4 px-4">
                <div class="row">
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <!-- Theme's logo -->

                        <!-- Schemes SG's mission -->
                        <p class="mt-4 text-sm opacity-8 pr-lg-4"><strong>Schemes SG</strong> is a product from
                            better.sg, Singapore's open-source public #techforgood movement. We hope you find it
                            helpful!</p>
                    </div>
                    <div class="col-lg-2 col-6 col-sm-4 ml-lg-auto mb-5 mb-lg-0">
                        <h6 class="heading mb-3">Sub-products</h6>
                        <ul class="list-unstyled">
                            <li><a href="schemespal.html">Schemes Pal</a></li>
                            <li><a href="schemesbank.html">Schemes Bank</a></li>
                            <li><a href="schemescase.html">Schemes Case</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-6 col-sm-4 mb-5 mb-lg-0">
                        <h6 class="heading mb-3">Info</h6>
                        <ul class="list-unstyled">
                            <li><a href="about.html">About</a></li>
                            <li><a href="blog.html">Blog</a></li>
                            <li><a href="team.html">Our team</a></li>
                            <li><a href="update.html">Updates</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-6 col-sm-4 mb-5 mb-lg-0">
                        <h6 class="heading mb-3">Contact</h6>
                        <ul class="list-unstyled">
                            <li><a href="listing.html">Add a listing</a></li>
                            <li><a href="listing.html">Provide feedback</a></li>
                        </ul>
                    </div>
                </div>
                <hr class="divider divider-fade divider-dark my-4">
                <div class="row align-items-center justify-content-md-between pb-4">
                    <div class="col-md-6">
                        <div class="copyright text-sm font-weight-bold text-center text-md-left">
                            &copy; 2021 <a href="#" class="font-weight-bold" target="_blank">Schemes
                                SG</a>.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Core JS  -->

    <script src="static/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/libs/svg-injector/dist/svg-injector.min.js"></script>
    <script src="static/libs/feather-icons/dist/feather.min.js"></script>
    <!-- Page JS -->
    <script type="text/javascript" src="static/js/slider.js"></script>
    <!-- Quick JS -->
    <script src="static/js/quick-website.js"></script>
    <!-- Feather Icons -->
    <script>
        feather.replace({
            'width': '1em',
            'height': '1em'
        })
    </script>
</body>

</html>